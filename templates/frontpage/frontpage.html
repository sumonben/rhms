{% extends 'basepage/basepage.html' %}
{% load static  %}

    <!-- Page Preloder -->
    <!-- <div id="preloder">
        <div class="loader"></div>
    </div> -->

    <!-- Offcanvas Menu Section Begin -->
    
    {% block content %}
        
       
    <section class="hero-section" >
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="hero-text">
                        <h1 style="color: brown;font-size: 70px;font-weight: bolder;text-shadow: 3px 3px #fff;">Hotel Red Rock</h1>
                        <h2 style="color: #000;font-weight: 500;font-size: 40px;text-shadow: 3px 3px #fff;">A Luxury Hotel in Joypurhat  Bangladesh</h2>
                        <p>Ensure safty, Relaxation and low-priced hotel rooms.</p>
                        <a href="{% url 'rooms_view' %}" class="primary-btn">Discover More</a>
                    </div>
                </div>
                <div class="col-xl-4 col-lg-5 offset-xl-2 offset-lg-1">
                    <div class="booking-form" style="background: var(--weather)" >
                        <h3 >Book Your Room</h3>
                        <form action="{% url 'frontpage' %}" method="POST">
                            {% csrf_token %}
                            <div class="check-date">
                                <label for="date-in">Check In:</label>
                                <input type="date" class="date-input" id="date-in" name="check_in" required>
                            </div>
                            <div class="check-date">
                                <label for="date-out">Check Out:</label>
                                <input type="date" class="date-input" id="date-out" name="check_out" required>
                            </div>
                            <div class="select-option">
                                <label for="guest">Guests:</label>
                                <select name="guests" id="guest" class="form-select">
                                    <option value="1">1 Adult</option>
                                    <option value="2" selected>2 Adults</option>
                                    <option value="3">3 Adults</option>
                                    <option value="4">4 Adults</option>
                                    <option value="5">5 Adults</option>
                                    <option value="6">6 Adults</option>
                                </select>
                            </div>
                            <div class="select-option">
                                <label for="room">Room:</label>
                                <select name="rooms" id="room" class="form-select">
                                    <option value="1" selected>1 Room</option>
                                    <option value="2">2 Rooms</option>
                                    <option value="3">3 Rooms</option>
                                    <option value="4">4 Rooms</option>
                                    <option value="5">5 Rooms</option>  
                                </select>
                            </div>
                            <button type="submit">Check Availability</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="hero-slider owl-carousel" style="z-index: -1;">
            
            {% for carousel in carousels  %}
                <div class="hs-item set-bg" data-setbg="{%if  carousel.image %} {{ carousel.image.url }} {% endif %}"></div>
            {% endfor %}
                
            <!-- <div class="hs-item set-bg" data-setbg="{% static 'img/hero/hero-1.jpg' %}"></div>
            <div class="hs-item set-bg" data-setbg="{% static 'img/hero/hero-2.jpg' %}"></div>
            <div class="hs-item set-bg" data-setbg="{% static 'img/hero/hero-3.jpg' %}"></div> -->
        </div>
    </section>
    <!-- Hero Section End -->

    <!-- About Us Section Begin -->
    <section class="aboutus-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="about-text">
                        <div class="section-title">
                            <span>About Us</span>
                            <h2>Hotel Red Rock <br />Residential Hotel in Joypurhat.</h2>
                        </div>
                        <p class="f-para">Hotel Red Rock is one of the best Residential Hotel In Joypurhat, Bangladesh</p>
                        <p class="s-para">The relaxation, Destination.</p>
                        <a href="#" class="primary-btn about-btn">Read More</a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="about-pic">
                        <div class="row">
    
                            <div class="col-sm-6">
                                <img src="{{ MONOGRAM.url }}" alt=""  style="height: 350px;">
                            </div>
                            <div class="col-sm-6">
                                <img src="{{ MONOGRAM_ENG.url }}" alt=""  style="height: 350px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- About Us Section End -->

    <!-- Services Section End -->
    <section class="services-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span></span>
                        <h2> Our Services</h2>
                    </div>
                </div>
            </div>
            <div class="row">
               
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-033-dinner"></i>
                        <h4>Catering Service</h4>
                        <p>We provide quality food night.</p>
                    </div>
                </div>
               
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-024-towel"></i>
                        <h4>Laundry</h4>
                        <p>Our staffs help guest with laundry service if needed</p>
                    </div>
                </div>
                
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-012-cocktail"></i>
                        <h4>Car parking</h4>
                        <p> We provide underground car parking for reasonable rate.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Services Section End -->

    <!-- Home Room Section Begin -->
    <section class="hp-room-section">
        <div class="container-fluid" >
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>Discover</span>
                        <h2>Our Room Types</h2>
                    </div>
                </div>
            </div>
            <div class="hp-room-items">
                <div class="row justify-content-center">
                    
                    {% for room_type in room_types %}
                        <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="{% if room_type.main_image %}{{ room_type.main_image.url}} {% endif %}">
                            <div class="hr-text">
                                <h2 style="color:brown">{{ room_type.name_eng }}</h2>
                                <!-- <h3 style="color:rgb(10, 92, 85)">Room ID:{{ room.room_no }}</h3> -->
                                <!-- <h3 style="color:brown">{{ room.room_type.name_eng }}</h3> -->

                                <h3 style="color:green">{{ room_type.price }}&#x09F3;<span>/Pernight</span></h3>
                                <table >
                                    <tbody>
                                        <!-- <tr>
                                            <td class="r-o">Size:</td>
                                            <td>{{room_type.size}} (sq ft)</td>
                                        </tr> -->
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>{{ room_type.occupancy }}</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed Type:</td>
                                            <td>
                                            {% for bed in room_type.bed_type.all %}
                                                {{ bed.name_eng }}-
                                            {% endfor %}
                                                
                                                </td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>{{ room_type.services }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <a href="{% url 'room_type_rooms' room_type.id  %}" class="primary-btn" style="color:brown">Explore Rooms</a>
                            </div>
                        </div>
                    </div>
                    
                    {% endfor %}
                        
                    <!-- <div  class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="{% static 'img/room/room-b1.jpg' %}">
                            <div class="hr-text">
                                <h3>Double Room</h3>
                                <h2>2000&#x09F3;<span> /Pernight</span></h2>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>King Beds</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <a href="#" class="primary-btn">More Details</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="{% static 'img/room/room-b2.jpg' %}">
                            <div class="hr-text">
                                <h3>Premium King Room</h3>
                                <h2>159&#x09F3;<span>/Pernight</span></h2>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>King Beds</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <a href="#" class="primary-btn">More Details</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="{% static 'img/room/room-b3.jpg' %}">
                            <div class="hr-text">
                                <h3>Deluxe Room</h3>
                                <h2>3000&#x09F3;<span>/Pernight</span></h2>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>King Beds</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <a href="#" class="primary-btn">More Details</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="{% static 'img/room/room-b4.jpg' %}">
                            <div class="hr-text">
                                <h3>Family Room</h3>
                                <h2>4000&#x09F3;<span>/Pernight</span></h2>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>King Beds</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <a href="#" class="primary-btn">More Details</a>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
    </section>
    <!-- Home Room Section End -->

    <!-- Available Rooms by Category Section Begin -->
    <section class="rooms-by-category-section spad" style="background-color: #f8f9fa;">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span style="background: var(--weather);">Available Rooms</span>
                        <h2>Browse Our Rooms by Category</h2>
                    </div>
                </div>
            </div>

            {% for room_type in room_types %}
                <div class="room-category-block" style="margin-bottom: 60px; padding: 20px 0; clear: both;">
                    <div class="row">
                        <div class="col-lg-12">
                            <div style="background: linear-gradient(135deg, #dfa974 0%, #c89d6c 100%); padding: 15px 25px; border-radius: 8px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                                <h3 style="color: #fff; margin: 0; font-size: 26px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">
                                    <i class="fa fa-bed" style="margin-right: 12px;"></i>{{ room_type.name_eng }}
                                </h3>
                            </div>
                        </div>
                    </div>
                    
                    <div class="room-slider-wrapper" style="position: relative;">
                        <div class="owl-carousel owl-theme room-slider-{{ room_type.id }}">
                            {% for room in rooms %}
                                {% if room.room_type.id == room_type.id %}
                                <div class="room-card-item">
                                    <div class="hp-room-item set-bg" data-setbg="{% if room.main_image %}{{ room.main_image.url }}{% endif %}" style="height: 450px; background-size: cover; background-position: center; background-color: #f0f0f0; {% if room.main_image %}background-image: url('{{ room.main_image.url }}');{% endif %}">
                                        <div class="hr-text" style="padding:15px;">
                                            <h3 style="color: green;">{{ room.name_eng }}</h3>
                                            <h3 style="color: brown;">Room #{{ room.room_no }}</h3>
                                            <h4 style="color: rgb(10, 92, 85); margin-top: 5px;">{{ room.room_type.name_eng }}</h4>
                                            <h3 style="color: green; margin-top: 10px;">{{ room.room_type.price }}&#x09F3;<span style="font-size: 14px;">/Per night</span></h3>
                                            
                                            <table style="margin-top: 15px;">
                                                <tbody>
                                                    <tr>
                                                        <td class="r-o">Capacity:</td>
                                                        <td>{{ room.room_type.occupancy }}</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="r-o">Bed Type:</td>
                                                        <td>
                                                            {% for bed in room.room_type.bed_type.all %}
                                                                {{ bed.name_eng }}{% if not forloop.last %}, {% endif %}
                                                            {% endfor %}
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="r-o">Status:</td>
                                                        <td>
                                                            {% with status=room.display_status|default:room.status|default_if_none:"available"|lower %}
                                                                {% if status == 'available' %}
                                                                    <span style="color: green; font-weight: bold;">Available</span>
                                                                {% elif status == 'unavailable' %}
                                                                    <span style="color: gray; font-weight: bold;">Unavailable</span>
                                                                {% elif status == 'booked' %}
                                                                    <span style="color: orange; font-weight: bold;">
                                                                        Booked{% if room.booked_until %} till {{ room.booked_until }}{% endif %}
                                                                    </span>
                                                                {% elif status == 'occupied' %}
                                                                    <span style="color: red; font-weight: bold;">Occupied</span>
                                                                {% else %}
                                                                    <span style="color: green; font-weight: bold;">Available</span>
                                                                {% endif %}
                                                            {% endwith %}
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            
                                            
                                            {% with status=room.display_status|default:room.status|default_if_none:"available"|lower %}
                                            <div style="display: flex; gap: 10px; margin-top: 15px;">
                                                {% if status == 'available' %}
                                                    <button id="room_{{ room.id }}" class="btn btn-primary" style="background: var(--weather); padding: 12px 24px; font-size: 16px; font-weight: 600; flex: 1;" onclick="addToCart( this.id )">Add To Book</button>
                                                    <button class="btn btn-success" style="padding: 12px 24px; font-size: 16px; font-weight: 600; flex: 1; text-align: center;" onclick="bookNowSingle('room_{{ room.id }}')">Book Now</button>
                                                {% else %}
                                                    <button class="btn btn-primary" style="background: var(--weather); padding: 12px 24px; font-size: 16px; font-weight: 600; flex: 1; opacity: 0.6; cursor: not-allowed;" disabled>
                                                        {% if status == 'booked' %}Booked <i class="fa fa-check"></i>{% elif status == 'unavailable' %}Unavailable {% else %}Occupied <i class="fa fa-check"></i>{% endif %}
                                                    </button>
                                                    <button class="btn btn-success" style="padding: 12px 24px; font-size: 16px; font-weight: 600; flex: 1; text-align: center; opacity: 0.6; cursor: not-allowed;" disabled>
                                                        {% if status == 'booked' %}Booked <i class="fa fa-check"></i>{% elif status == 'unavailable' %}Unavailable {% else %}Occupied <i class="fa fa-check"></i>{% endif %}
                                                    </button>
                                                {% endif %}
                                            </div>
                                            {% endwith %}
                                            <div style="display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap;">
                                                <a href="{% url 'room_details' room.id %}" class="primary-btn" style="flex: 1; text-align: center; min-width: 120px;">View Details</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </section>

    <style>
        .room-slider-wrapper {
            padding: 0 50px;
            position: relative;
            min-height: 500px;
            overflow: hidden;
        }
        
        /* Override owl-carousel display:none to show rooms immediately */
        .owl-carousel.room-slider-1,
        .owl-carousel.room-slider-2,
        .owl-carousel.room-slider-3,
        .owl-carousel.room-slider-4,
        .owl-carousel.room-slider-5,
        .owl-carousel.room-slider-6,
        .owl-carousel.room-slider-7,
        .owl-carousel.room-slider-8,
        .owl-carousel.room-slider-9,
        .owl-carousel.room-slider-10 {
            display: flex !important;
            flex-wrap: nowrap !important;
            overflow-x: hidden !important;
            overflow-y: hidden !important;
            visibility: visible !important;
            position: relative;
            justify-content: center !important;
        }
        
        /* Before carousel initializes, display horizontally */
        .owl-carousel:not(.owl-loaded) .room-card-item {
            display: inline-block !important;
            width: 350px !important;
            min-width: 350px !important;
            margin: 0 10px 20px !important;
            vertical-align: top;
            flex-shrink: 0;
        }
        
        /* After carousel initializes */
        .owl-carousel.owl-loaded .room-card-item {
            display: block !important;
        }
        
        /* Center room slider stages */
        .room-slider-wrapper .owl-stage-outer {
            display: flex !important;
            justify-content: flex-start !important;
        }
        
        .room-slider-wrapper .owl-stage {
            display: flex !important;
            justify-content: flex-start !important;
        }
        
        /* Make room cards visible */
        .room-card-item {
            display: block !important;
            padding: 10px;
            text-align: center;
        }
        
        .room-card-item .hp-room-item {
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            margin: 0 auto;
        }
        
        .room-card-item .hr-text {
            margin-top: auto;
        }
        
        /* Hide all scrollbars */
        .owl-carousel::-webkit-scrollbar {
            display: none;
        }
        
        .owl-carousel {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Style built-in Owl Carousel navigation */
        .owl-carousel .owl-nav {
            display: block !important;
            position: absolute;
            width: 100%;
            top: 40%;
            left: 0;
            right: 0;
            z-index: 1000;
        }
        
        .owl-carousel .owl-nav button.owl-prev,
        .owl-carousel .owl-nav button.owl-next {
            position: absolute !important;
            color: #dfa974 !important;
            width: 50px !important;
            height: 50px !important;
            border-radius: 50% !important;
            font-size: 28px !important;
            line-height: 46px !important;
            text-align: center !important;
            pointer-events: auto !important;
            transition: all 0.3s !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2) !important;
            cursor: pointer !important;
            opacity: 1 !important;
            visibility: visible !important;
            z-index: 1000 !important;
        }
        
        .owl-carousel .owl-nav button.owl-prev {
            left: -20px !important;
        }
        
        .owl-carousel .owl-nav button.owl-next {
            right: -20px !important;
        }
        
        .owl-carousel .owl-nav button.owl-prev:hover,
        .owl-carousel .owl-nav button.owl-next:hover {
            background: rgba(223, 169, 116, 0.6) !important;
            border-color: #c89d6c !important;
            color: #c89d6c !important;
            transform: scale(1.15) !important;
        }
        
        .owl-carousel .owl-nav button span {
            font-size: 28px;
            line-height: 50px;
        }
        
        /* Hide custom navigation arrows since we're using built-in */
        .slider-prev,
        .slider-next {
            display: none !important;
        }
        
        /* Custom navigation arrows - ensure they're visible and clickable */
        .slider-nav {
            position: relative;
        }
        
        .slider-nav button {
            position: absolute;
            z-index: 100;
            cursor: pointer;
            pointer-events: auto;
        }
        
        .slider-nav .slider-prev {
            left: -40px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .slider-nav .slider-next {
            right: -40px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .slider-nav button:hover {
            background: var(--heading) !important;
            transform: translateY(-50%) scale(1.1);
        }
        
        .room-card-item .hp-room-item {
            transition: transform 0.3s;
        }
        
        .room-card-item .hp-room-item:hover {
            transform: translateY(-5px);
        }

        @media (max-width: 992px) {
            .room-slider-wrapper {
                padding: 0 30px;
            }
            
            .room-slider-wrapper .owl-nav button.owl-prev {
                left: -50px !important;
            }
            
            .room-slider-wrapper .owl-nav button.owl-next {
                right: -50px !important;
            }
        }

        @media (max-width: 768px) {
            .room-slider-wrapper {
                padding: 0 15px;
                min-height: 400px;
            }
            
            .room-slider-wrapper .owl-nav button.owl-prev,
            .room-slider-wrapper .owl-nav button.owl-next {
                width: 40px !important;
                height: 40px !important;
                font-size: 20px !important;
                line-height: 40px !important;
            }
            
            .room-slider-wrapper .owl-nav button.owl-prev span,
            .room-slider-wrapper .owl-nav button.owl-next span {
                font-size: 20px !important;
                line-height: 40px !important;
            }
            
            .room-slider-wrapper .owl-nav button.owl-prev {
                left: -45px !important;
            }
            
            .room-slider-wrapper .owl-nav button.owl-next {
                right: -45px !important;
            }
            
            .room-card-item .hp-room-item {
                height: 400px !important;
            }
            
            .room-category-block {
                margin-bottom: 40px !important;
            }
            
            .room-category-block h3 {
                font-size: 20px !important;
                padding: 12px 20px !important;
            }
        }

        @media (max-width: 576px) {
            .room-slider-wrapper {
                padding: 0 10px;
                min-height: 380px;
            }
            
            .room-slider-wrapper .owl-nav button.owl-prev,
            .room-slider-wrapper .owl-nav button.owl-next {
                width: 35px !important;
                height: 35px !important;
                font-size: 18px !important;
                line-height: 35px !important;
            }
            
            .room-slider-wrapper .owl-nav button.owl-prev span,
            .room-slider-wrapper .owl-nav button.owl-next span {
                font-size: 18px !important;
                line-height: 35px !important;
            }
            
            /* On very small screens, show arrows inside with semi-transparent background */
            .room-slider-wrapper .owl-nav button.owl-prev {
                left: 5px !important;
                background: rgba(223, 169, 116, 0.85) !important;
            }
            
            .room-slider-wrapper .owl-nav button.owl-next {
                right: 5px !important;
                background: rgba(223, 169, 116, 0.85) !important;
            }
            
            .room-card-item .hp-room-item {
                height: 380px !important;
            }
            
            .room-category-block h3 {
                font-size: 18px !important;
                padding: 10px 15px !important;
                letter-spacing: 0.5px !important;
            }
            
            .room-category-block h3 i {
                margin-right: 8px !important;
            }
        }
    </style>
    </section>
    <!-- Available Rooms by Category Section End -->

    <!-- Testimonial Section Begin -->
    <section class="testimonial-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>Testimonials</span>
                        <h2>Customers Reviews</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="testimonial-slider owl-carousel">
                        <div class="ts-item">
                            <p>The Hotel Red Rock in Joypurhat is the best hotel I ever stayed.It's beautiful rooms and it's decoration ws excellent. I am overwhelemed by their hospitalily and friendly manner. it was very luxarious to stay </p>
                            <div class="ti-author">
                                <div class="rating">
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star-half_alt"></i>
                                </div>
                                <h5> - Tarique Sumon</h5>
                            </div>
                            <img src="{% static 'img/testimonial-logo.png' %}" alt="">
                        </div>
                        <div class="ts-item">
                                                        <p>Surely The Hotel Red Rock in Joypurhat is the best hotel I ever stayed.It's beautiful rooms and it's decoration ws excellent. I am overwhelemed by their hospitalily and friendly manner. it was very luxarious to stay </p>
                            <div class="ti-author">
                                <div class="rating">
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star-half_alt"></i>
                                </div>
                                <h5> -Abu Hasnat</h5>
                            </div>
                            <img src="{% static 'img/testimonial-logo.png' %}" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Testimonial Section End -->

    <!-- Blog Section Begin -->
    <section class="blog-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>Recreational Place</span>
                        <h2>Joypurhat and Surroundings</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="blog-item set-bg" data-setbg="{% static 'images/shishu.jpg' %}">
                        <div class="bi-text">
                            <span class="b-tag">Recreate yourself</span>
                            <h4><a href="#">Shishu Park </a></h4>
                            <div class="b-time"><i class="icon_clock_alt"></i> Joypurhat, Bangladesh</div>
                        </div>
                    </div>
                </div>
                <!-- <div class="col-lg-4">
                    <div class="blog-item set-bg" data-setbg="{% static 'img/blog/blog-2.jpg' %}">
                        <div class="bi-text">
                            <span class="b-tag">Camping</span>
                            <h4><a href="#">Choosing A Static Caravan</a></h4>
                            <div class="b-time"><i class="icon_clock_alt"></i> 16th Decemeber, 2025</div>
                        </div>
                    </div>
                </div> -->
                <div class="col-lg-4">
                    <div class="blog-item set-bg" data-setbg="{% static 'images/sompur.jpg' %}">
                        <div class="bi-text">
                            <span class="b-tag">Visit Heritage</span>
                            <h4><a href="#">Somapura Mahavihara  </a></h4>
                            <div class="b-time"><i class="icon_clock_alt"></i> Paharpur, Naogoan</div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="blog-item set-bg" data-setbg="{% static 'img/blog/blog-3.jpg' %}">
                        <div class="bi-text">
                            <span class="b-tag">Park Resort</span>
                            <h4><a href="#">Momo Inn</a></h4>
                            <div class="b-time"><i class="icon_clock_alt"></i> Bogura, Bangladesh</div>
                        </div>
                    </div>
                </div>
                
                
            </div>
        </div>
    </section>
    <!-- Blog Section End -->

    <script>
    console.log('=== SCRIPT LOADED ===');
    console.log('jQuery available:', typeof jQuery !== 'undefined');
    console.log('owlCarousel available:', typeof jQuery !== 'undefined' && typeof jQuery.fn.owlCarousel !== 'undefined');
    
    // Wrap everything to prevent main.js errors from blocking execution
    (function() {
        'use strict';
        
        console.log('=== Inside IIFE ===');
        
        // Wait for DOM to be fully ready
        if (document.readyState === 'loading') {
            console.log('DOM still loading, adding event listener');
            document.addEventListener('DOMContentLoaded', initCarousels);
        } else {
            console.log('DOM already ready, initializing now');
            initCarousels();
        }
        
        function initCarousels() {
            try {
                console.log('=== Starting carousel initialization ===');
                
                {% for room_type in room_types %}
                try {
                    var sliderEl = document.querySelector('.room-slider-{{ room_type.id }}');
                    if (!sliderEl) {
                        console.error('Slider element not found for {{ room_type.name_eng }}');
                        return;
                    }
                    
                    var items = sliderEl.querySelectorAll('.room-card-item');
                    console.log('{{ room_type.name_eng }}: Found ' + items.length + ' room items');
                    
                    // Make items visible immediately
                    items.forEach(function(item) {
                        item.style.display = 'block';
                        item.style.visibility = 'visible';
                        item.style.opacity = '1';
                    });
                    
                    if (items.length > 0 && typeof jQuery !== 'undefined' && jQuery.fn.owlCarousel) {
                        var $slider = jQuery('.room-slider-{{ room_type.id }}');
                        
                        // Destroy any existing carousel first
                        if ($slider.hasClass('owl-loaded')) {
                            $slider.trigger('destroy.owl.carousel');
                            $slider.removeClass('owl-loaded owl-drag');
                        }
                        
                        // Only enable loop if there are more than 3 items (to prevent cloning duplicates)
                        var enableLoop = items.length > 3;
                        
                        // Initialize carousel
                        $slider.owlCarousel({
                            loop: enableLoop,
                            margin: 20,
                            nav: true,
                            dots: true,
                            autoplay: false,
                            smartSpeed: 800,
                            navText: [
                                '<span style="font-size: 28px; line-height: 50px;">‹</span>',
                                '<span style="font-size: 28px; line-height: 50px;">›</span>'
                            ],
                            navContainer: false,
                            responsive: {
                                0: { items: 1 },
                                768: { items: 2 },
                                992: { items: 3 }
                            },
                            onInitialized: function(e) {
                                console.log('✓ {{ room_type.name_eng }} carousel initialized with ' + e.item.count + ' items');
                                console.log('Nav container:', $slider.find('.owl-nav').length);
                                
                                // Force show navigation
                                var nav = $slider.closest('.room-slider-wrapper').find('.owl-nav');
                                if (nav.length > 0) {
                                    nav.css({
                                        'display': 'block',
                                        'visibility': 'visible',
                                        'opacity': '1'
                                    });
                                    console.log('Nav buttons visible for {{ room_type.name_eng }}');
                                } else {
                                    console.warn('Nav not found for {{ room_type.name_eng }}');
                                }
                            }
                        });
                    } else if (items.length === 0) {
                        console.warn('No rooms for {{ room_type.name_eng }}');
                        if (sliderEl.closest('.room-category-block')) {
                            sliderEl.closest('.room-category-block').style.display = 'none';
                        }
                    }
                } catch (err) {
                    console.error('Error initializing {{ room_type.name_eng }}:', err);
                }
                {% endfor %}
                
                console.log('=== Carousel initialization complete ===');
            } catch (mainErr) {
                console.error('Main carousel error:', mainErr);
            }
        }
    })();
    </script>
    
{% endblock content %}
